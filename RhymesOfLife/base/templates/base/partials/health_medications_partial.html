{% load i18n static %}
<link rel="stylesheet" href="{% static 'css/new_styles.css' %}

<div class="section-head">
  <h2 class="section-title">
    <span class="badge-soft">ðŸ’Š</span>
    <span>{% trans "Medications I take" %}</span>
  </h2>
</div>

<div class="card card-elevated mb-4">
  <div class="card-header">
    <h4 class="mb-0">âž• {% trans "Add medication" %}</h4>
  </div>

  <div class="card-body">
    <form id="medication-form" novalidate>
      {% csrf_token %}

      <div class="row g-3">
        <div class="col-12">
          <label for="medication_description" class="form-label">
            {% trans "Medication" %}
          </label>
          <input
            type="text"
            id="medication_description"
            class="form-control"
            maxlength="255"
            placeholder="{% trans 'e.g. Pregabalin 75 mg daily' %}"
            required>
          <div class="invalid-feedback">
            {% trans "Please enter a medication description." %}
          </div>
        </div>

        <div class="col-12 d-flex justify-content-end">
          <button type="submit" class="btn btn-primary">
            <i class="bi bi-plus-lg me-1"></i>
            {% trans "Add" %}
          </button>
        </div>
      </div>
    </form>
  </div>
</div>

{% if medications %}
  <div class="d-grid gap-3">
    {% for m in medications %}
      <div class="card card-elevated">
        <div class="card-body d-flex justify-content-between align-items-center gap-3">
          <div class="fw-semibold">
            {{ m.description }}
          </div>

          <button
            class="btn btn-ghost btn-sm text-danger delete-medication-btn"
            data-id="{{ m.id }}"
            title="{% trans 'Delete' %}">
            <i class="bi bi-trash3"></i>
          </button>
        </div>
      </div>
    {% endfor %}
  </div>
{% else %}
  <div class="alert alert-secondary">
    {% trans "No medications added yet." %}
  </div>
{% endif %}

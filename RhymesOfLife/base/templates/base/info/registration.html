{% extends "base/info/info_base.html" %}

{% block title %}Регистрация/Вход{% endblock %}

{% block content %}

<!-- Основная форма входа/регистрации -->
<section class="section section--accent form-section" id="auth-section">
  <div class="container">
    <div class="form-grid">
      <div class="form-card">
        <div class="form-tabs">
          <button class="form-tab active" data-tab="register">Регистрация</button>
          <button class="form-tab" data-tab="login">Войти</button>
        </div>

        <div class="form-body">

          <!-- Форма регистрации -->
          <form class="form-container active" id="register-form">
            <input type="text" class="form-input" placeholder="Имя (username)" required>
            <input type="email" class="form-input" placeholder="E-mail" required>
            <input type="password" class="form-input" placeholder="Пароль" required>
            <input type="password" class="form-input" placeholder="Подтверждение пароля" required>

            <button type="submit" class="btn form-btn">Регистрация</button>

            <p class="form-privacy text--small text--center">
              Нажимая на кнопку, вы даёте согласие на обработку персональных данных
              и соглашаетесь с политикой конфиденциальности
            </p>
          </form>

          <!-- Форма входа -->
          <form class="form-container" id="login-form">
            <input type="email" class="form-input" placeholder="E-mail" required>
            <input type="password" class="form-input" placeholder="Пароль" required>

            <button type="submit" class="btn form-btn">Войти</button>

            <div class="form-links">
              <a href="#" class="forgot-password" id="show-recovery">Забыли пароль?</a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Форма восстановления пароля (скрыта по умолчанию) -->
<section class="section section--accent password-recovery-section" id="recovery-section" style="display: none;">
  <div class="container">
    <div class="password-recovery-grid">
      <div class="password-recovery-card">
        <div class="password-recovery-header">
          <h1 class="password-recovery-title">Восстановить пароль</h1>
        </div>

        <div class="password-recovery-body">
          <!-- Шаг 1: Ввод email -->
          <div class="recovery-step active" id="step-email" data-step="1">
            <form class="recovery-email-form">
              <div class="form-group">
                <!-- <label class="form-label">Введите ваш E-mail:</label> -->
                <input type="email" class="form-input recovery-email-input" placeholder="Введите ваш E-mail" required>
                <div class="form-error email-error">
                  E-mail не найден. Проверьте правильность введенного адреса.
                </div>
              </div>

              <button type="submit" class="btn form-btn recovery-submit-btn">Отправить</button>
              
              <div class="recovery-links">
                <a href="#" class="recovery-link back-to-login-link" id="back-to-login">
                  Вернуться к входу
                </a>
              </div>
            </form>
          </div>

          <!-- Шаг 2: Сообщение о отправке письма -->
          <div class="recovery-step" id="step-sent" data-step="2">
            <div class="recovery-message recovery-sent-message">
              <div class="message-icon">
                <img class="icon--large" src="/static/images/mail-recovery__icon-img.png" alt="Письмо отправлено!">
              </div>
              <h2 class="h2">Письмо отправлено!</h2>
              <p class="message-text">
                Мы отправили инструкции по восстановлению пароля на ваш E-mail.
                Пожалуйста, проверьте почту и следуйте инструкциям в письме.
              </p>
            </div>

            <div class="recovery-links">
              <a href="#" class="recovery-link back-to-email-link">
                Ввести другой E-mail
              </a>
            </div>
          </div>

          <!-- Шаг 3: Ввод нового пароля -->
          <div class="recovery-step" id="step-password" data-step="3">
            <form class="recovery-password-form">
              <h2 class="h2">Создание нового пароля</h2>

              <div class="form-group">
                <!-- <label class="form-label">Новый пароль:</label> -->
                <input type="password" class="form-input new-password-input" placeholder="Введите новый пароль" required>
              </div>

              <div class="form-group">
                <!-- <label class="form-label">Подтверждение пароля:</label> -->
                <input type="password" class="form-input confirm-password-input" placeholder="Повторите новый пароль" required>
                <div class="form-error password-error">
                  Пароли не совпадают
                </div>
              </div>

              <button type="submit" class="btn form-btn password-submit-btn">Сохранить пароль</button>
            </form>
          </div>

          <!-- Шаг 4: Успешное восстановление -->
          <div class="recovery-step" id="step-success" data-step="4">
            <div class="recovery-message recovery-success-message">
              <div class="message-icon success-icon">
                                <img class="icon--large" src="/static/images/recovery-success__icon-img.png" alt="Письмо отправлено!">
              </div>
              <h2 class="h2">Пароль успешно изменен!</h2>
              <p class="message-text">
                Ваш пароль был успешно изменен. Теперь вы можете войти в систему с новым паролем.
              </p>
              
              <a href="#" class="btn form-btn success-login-btn" id="success-login-btn">
                Войти в аккаунт
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

{% endblock %}
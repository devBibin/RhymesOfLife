{% extends "base/info/info_base.html" %}
{% load static i18n %}

{% block title %}{% trans "Enter code" %} — {{ block.super }}{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/new_styles.css' %}">

<section class="section section--accent form-section">
  <div class="container">
    <div class="form-grid">
      <div class="form-card">
        <div class="form-body">
          <h2 class="mb-3 text-center">{% trans "Enter code" %}</h2>
          <p class="text--center message-text">{% trans "We have sent a one-time code. Enter it below." %}</p>

          {% if messages %}
            {% for m in messages %}
              <div class="alert alert-{{ m.tags }} mb-3">{{ m }}</div>
            {% endfor %}
          {% endif %}

          <form method="post" novalidate>
            {% csrf_token %}
            <div class="mb-3">
              <label for="code" class="form-label">{% trans "Code" %}</label>
              <input
                type="text"
                id="code"
                name="code"
                class="form-input"
                required
                inputmode="numeric"
                pattern="\\d*"
                minlength="4"
                maxlength="16"
                placeholder="••••••"
                autocomplete="one-time-code"
              >
            </div>

            <button type="submit" class="btn form-btn">{% trans "Verify" %}</button>
          </form>

          <div class="recovery-links">
            <a href="{% url 'password_reset_request' %}" class="recovery-link">{% trans "Resend code" %}</a>
            &nbsp;•&nbsp;
            <a href="{% url 'login' %}" class="recovery-link">{% trans "Back to sign in" %}</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<script src="{% static 'js/auth_page.js' %}"></script>
{% endblock %}

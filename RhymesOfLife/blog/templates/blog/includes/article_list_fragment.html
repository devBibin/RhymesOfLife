{% load i18n %}

<div class="row">
  {% for post in posts %}
    <div class="col-12 mb-4">
      {% include "blog/includes/article_cards.html" with page=post %}
    </div>
  {% empty %}
    <div class="col-12">
      <div class="alert alert-warning">{% trans "Nothing found." %}</div>
    </div>
  {% endfor %}
</div>

{% if posts.has_other_pages %}
<nav aria-label="{% trans 'Page navigation' %}">
  <ul class="pagination">
    {% if posts.has_previous %}
      <li class="page-item">
        <a class="page-link"
           href="?filter={{ current_filter }}&page={{ posts.previous_page_number }}{% if query %}&q={{ query }}{% endif %}">
          &laquo;
        </a>
      </li>
    {% else %}
      <li class="page-item disabled"><span class="page-link">&laquo;</span></li>
    {% endif %}

    {% for num in posts.paginator.page_range %}
      <li class="page-item {% if posts.number == num %}active{% endif %}">
        <a class="page-link"
           href="?filter={{ current_filter }}&page={{ num }}{% if query %}&q={{ query }}{% endif %}">
          {{ num }}
        </a>
      </li>
    {% endfor %}

    {% if posts.has_next %}
      <li class="page-item">
        <a class="page-link"
           href="?filter={{ current_filter }}&page={{ posts.next_page_number }}{% if query %}&q={{ query }}{% endif %}">
          &raquo;
        </a>
      </li>
    {% else %}
      <li class="page-item disabled"><span class="page-link">&raquo;</span></li>
    {% endif %}
  </ul>
</nav>
{% endif %}

{% load i18n %}

<div class="rl-articles">
  {% for post in posts %}
    {% include "blog/includes/article_cards.html" with page=post %}
  {% empty %}
    <div class="alert alert-warning mb-0">{% trans "Nothing found." %}</div>
  {% endfor %}
</div>

{% if posts.has_other_pages %}
  <nav class="mt-4 rl-pagination" aria-label="{% trans 'Page navigation' %}">
    <ul class="pagination mb-0 flex-wrap">
      {% if posts.has_previous %}
        <li class="page-item">
          <a class="page-link"
             href="?page={{ posts.previous_page_number }}{% if query %}&q={{ query|urlencode }}{% endif %}{% if sort %}&sort={{ sort }}{% endif %}">
            &laquo;
          </a>
        </li>
      {% else %}
        <li class="page-item disabled"><span class="page-link">&laquo;</span></li>
      {% endif %}

      {% for num in posts.paginator.page_range %}
        <li class="page-item {% if posts.number == num %}active{% endif %}">
          <a class="page-link"
             href="?page={{ num }}{% if query %}&q={{ query|urlencode }}{% endif %}{% if sort %}&sort={{ sort }}{% endif %}">
            {{ num }}
          </a>
        </li>
      {% endfor %}

      {% if posts.has_next %}
        <li class="page-item">
          <a class="page-link"
             href="?page={{ posts.next_page_number }}{% if query %}&q={{ query|urlencode }}{% endif %}{% if sort %}&sort={{ sort }}{% endif %}">
            &raquo;
          </a>
        </li>
      {% else %}
        <li class="page-item disabled"><span class="page-link">&raquo;</span></li>
      {% endif %}
    </ul>
  </nav>
{% endif %}
